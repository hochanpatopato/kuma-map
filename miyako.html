<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>熊出没ナビ｜宮古市の熊目撃・被害マップ</title>
<meta name="description" content="岩手県宮古市で公開されている熊の目撃・被害情報を地図で可視化しています。">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet">
<script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>

<style>
body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;}
#map{width:100vw;height:100vh;}

.pref-nav{
  position:fixed;top:12px;left:12px;z-index:1000;
  display:flex;gap:8px;align-items:center;
  background:rgba(255,255,255,.92);
  border:1px solid rgba(15,23,42,.08);
  box-shadow:0 10px 25px rgba(15,23,42,.1);
  padding:10px 12px;border-radius:12px;
}
.pref{font-weight:700;font-size:13px;}
.tab{
  text-decoration:none;font-size:13px;font-weight:700;
  padding:8px 10px;border-radius:10px;
  color:#0f172a;background:rgba(15,23,42,.06);
}
.tab.active{background:#0f172a;color:#fff;pointer-events:none;}
</style>
</head>

<body>

<header class="pref-nav">
  <span class="pref">岩手県</span>
  <a href="./index.html" class="tab">全体</a>
  <a href="./morioka.html" class="tab">盛岡</a>
  <a href="./miyako.html" class="tab active">宮古</a>
</header>

<div id="map"></div>

<script>
const locations = [
  {lat:39.5798,lng:142.0206,type:"目撃"},
  {lat:39.6031,lng:141.8802,type:"被害"}
];

const map = new maplibregl.Map({
  container:"map",
  style:"https://demotiles.maplibre.org/style.json",
  center:[141.95,39.65],
  zoom:10
});

map.on("load",()=>{
  map.addSource("bears",{type:"geojson",data:{
    type:"FeatureCollection",
    features:locations.map(l=>({
      type:"Feature",
      properties:{type:l.type},
      geometry:{type:"Point",coordinates:[l.lng,l.lat]}
    }))
  }});

  map.addLayer({
    id:"points",
    type:"circle",
    source:"bears",
    paint:{
      "circle-radius":8,
      "circle-color":["match",["get","type"],"被害","#ef4444","#3b82f6"]
    }
  });
});
</script>

</body>
</html>
